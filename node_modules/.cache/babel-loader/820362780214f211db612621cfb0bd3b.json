{"ast":null,"code":"/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport { ATTRIBUTE_NAME_CHAR } from './DOMProperty';\nimport isCustomComponent from './isCustomComponent';\nimport validAriaProperties from './validAriaProperties';\nconst warnedProperties = {};\nconst rARIA = new RegExp('^(aria)-[' + ATTRIBUTE_NAME_CHAR + ']*$');\nconst rARIACamel = new RegExp('^(aria)[A-Z][' + ATTRIBUTE_NAME_CHAR + ']*$');\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction validateProperty(tagName, name) {\n  if (__DEV__) {\n    if (hasOwnProperty.call(warnedProperties, name) && warnedProperties[name]) {\n      return true;\n    }\n\n    if (rARIACamel.test(name)) {\n      const ariaName = 'aria-' + name.slice(4).toLowerCase();\n      const correctName = validAriaProperties.hasOwnProperty(ariaName) ? ariaName : null; // If this is an aria-* attribute, but is not listed in the known DOM\n      // DOM properties, then it is an invalid aria-* attribute.\n\n      if (correctName == null) {\n        console.error('Invalid ARIA attribute `%s`. ARIA attributes follow the pattern aria-* and must be lowercase.', name);\n        warnedProperties[name] = true;\n        return true;\n      } // aria-* attributes should be lowercase; suggest the lowercase version.\n\n\n      if (name !== correctName) {\n        console.error('Invalid ARIA attribute `%s`. Did you mean `%s`?', name, correctName);\n        warnedProperties[name] = true;\n        return true;\n      }\n    }\n\n    if (rARIA.test(name)) {\n      const lowerCasedName = name.toLowerCase();\n      const standardName = validAriaProperties.hasOwnProperty(lowerCasedName) ? lowerCasedName : null; // If this is an aria-* attribute, but is not listed in the known DOM\n      // DOM properties, then it is an invalid aria-* attribute.\n\n      if (standardName == null) {\n        warnedProperties[name] = true;\n        return false;\n      } // aria-* attributes should be lowercase; suggest the lowercase version.\n\n\n      if (name !== standardName) {\n        console.error('Unknown ARIA attribute `%s`. Did you mean `%s`?', name, standardName);\n        warnedProperties[name] = true;\n        return true;\n      }\n    }\n  }\n\n  return true;\n}\n\nfunction warnInvalidARIAProps(type, props) {\n  if (__DEV__) {\n    const invalidProps = [];\n\n    for (const key in props) {\n      const isValid = validateProperty(type, key);\n\n      if (!isValid) {\n        invalidProps.push(key);\n      }\n    }\n\n    const unknownPropString = invalidProps.map(prop => '`' + prop + '`').join(', ');\n\n    if (invalidProps.length === 1) {\n      console.error('Invalid aria prop %s on <%s> tag. ' + 'For details, see https://fb.me/invalid-aria-prop', unknownPropString, type);\n    } else if (invalidProps.length > 1) {\n      console.error('Invalid aria props %s on <%s> tag. ' + 'For details, see https://fb.me/invalid-aria-prop', unknownPropString, type);\n    }\n  }\n}\n\nexport function validateProperties(type, props) {\n  if (isCustomComponent(type, props)) {\n    return;\n  }\n\n  warnInvalidARIAProps(type, props);\n}","map":{"version":3,"sources":["/Users/malinfeng/Desktop/mywww/react-test/src/react/packages/react-dom/src/shared/ReactDOMInvalidARIAHook.js"],"names":["ATTRIBUTE_NAME_CHAR","isCustomComponent","validAriaProperties","warnedProperties","rARIA","RegExp","rARIACamel","hasOwnProperty","Object","prototype","validateProperty","tagName","name","__DEV__","call","test","ariaName","slice","toLowerCase","correctName","console","error","lowerCasedName","standardName","warnInvalidARIAProps","type","props","invalidProps","key","isValid","push","unknownPropString","map","prop","join","length","validateProperties"],"mappings":"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","sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport {ATTRIBUTE_NAME_CHAR} from './DOMProperty';\nimport isCustomComponent from './isCustomComponent';\nimport validAriaProperties from './validAriaProperties';\n\nconst warnedProperties = {};\nconst rARIA = new RegExp('^(aria)-[' + ATTRIBUTE_NAME_CHAR + ']*$');\nconst rARIACamel = new RegExp('^(aria)[A-Z][' + ATTRIBUTE_NAME_CHAR + ']*$');\n\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction validateProperty(tagName, name) {\n  if (__DEV__) {\n    if (hasOwnProperty.call(warnedProperties, name) && warnedProperties[name]) {\n      return true;\n    }\n\n    if (rARIACamel.test(name)) {\n      const ariaName = 'aria-' + name.slice(4).toLowerCase();\n      const correctName = validAriaProperties.hasOwnProperty(ariaName)\n        ? ariaName\n        : null;\n\n      // If this is an aria-* attribute, but is not listed in the known DOM\n      // DOM properties, then it is an invalid aria-* attribute.\n      if (correctName == null) {\n        console.error(\n          'Invalid ARIA attribute `%s`. ARIA attributes follow the pattern aria-* and must be lowercase.',\n          name,\n        );\n        warnedProperties[name] = true;\n        return true;\n      }\n      // aria-* attributes should be lowercase; suggest the lowercase version.\n      if (name !== correctName) {\n        console.error(\n          'Invalid ARIA attribute `%s`. Did you mean `%s`?',\n          name,\n          correctName,\n        );\n        warnedProperties[name] = true;\n        return true;\n      }\n    }\n\n    if (rARIA.test(name)) {\n      const lowerCasedName = name.toLowerCase();\n      const standardName = validAriaProperties.hasOwnProperty(lowerCasedName)\n        ? lowerCasedName\n        : null;\n\n      // If this is an aria-* attribute, but is not listed in the known DOM\n      // DOM properties, then it is an invalid aria-* attribute.\n      if (standardName == null) {\n        warnedProperties[name] = true;\n        return false;\n      }\n      // aria-* attributes should be lowercase; suggest the lowercase version.\n      if (name !== standardName) {\n        console.error(\n          'Unknown ARIA attribute `%s`. Did you mean `%s`?',\n          name,\n          standardName,\n        );\n        warnedProperties[name] = true;\n        return true;\n      }\n    }\n  }\n\n  return true;\n}\n\nfunction warnInvalidARIAProps(type, props) {\n  if (__DEV__) {\n    const invalidProps = [];\n\n    for (const key in props) {\n      const isValid = validateProperty(type, key);\n      if (!isValid) {\n        invalidProps.push(key);\n      }\n    }\n\n    const unknownPropString = invalidProps\n      .map(prop => '`' + prop + '`')\n      .join(', ');\n\n    if (invalidProps.length === 1) {\n      console.error(\n        'Invalid aria prop %s on <%s> tag. ' +\n          'For details, see https://fb.me/invalid-aria-prop',\n        unknownPropString,\n        type,\n      );\n    } else if (invalidProps.length > 1) {\n      console.error(\n        'Invalid aria props %s on <%s> tag. ' +\n          'For details, see https://fb.me/invalid-aria-prop',\n        unknownPropString,\n        type,\n      );\n    }\n  }\n}\n\nexport function validateProperties(type, props) {\n  if (isCustomComponent(type, props)) {\n    return;\n  }\n  warnInvalidARIAProps(type, props);\n}\n"]},"metadata":{},"sourceType":"module"}